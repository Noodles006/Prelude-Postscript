# 浏览器缓存机制浅析

### 浏览器缓存机制如何工作
核心就是把缓存的内容保存在本地，而不用每次都向服务器发送相同的请求。
但是如果每次都读取缓存也会存在一定的问题，如果服务器端的文件更新了呢？这是服务器端就会约定一个有效期。如果发现和服务器端约定的有效期过了，就会向服务器端发送请求，试图下载一个新的文件，但是很有可能服务器端的文件其实并没有更新，其实还是可以读取缓存的。这是该怎么判断服务器端的文件有没有更新呢？有两种方式，第一种在上一次服务端告诉客户端约定的有效期的同时，告诉客户端文件最后修改的时间，当再次试图从服务端下载该文件的时候，检查下该文件有没有更新（对比最后的修改时间），如果没有，则读取缓存；第二种方式是在上一次服务端约定有效期的同时，同时告诉客户端该文件的版本号，当服务端文件更新的时候，改变版本号，再次发送请求的时候检查一下版本号是否一致就行了，如一致，则直接读取缓存。
